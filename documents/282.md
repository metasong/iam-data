# Angular Host decorator
---
author: Jason Song <metaseed@gmail.com>
version: 1.0.0
tag: [javascript,Angular]
subPage: []
enable: [toc]

---
https://angular.io/api/core/Host
> Parameter decorator on a view-provider parameter of a class constructor that tells the DI framework to resolve the view by checking injectors of child elements, and stop when reaching the host element of the current component.

* host means hostTemplate, that's the template where the component/directive is used.
* host component: the component whose template i'm in.
* the parent component: the component whose content is me.
* in template there is a tree-like structure of element-injectors
* directive only has providers do not has viewProviders

[host directive test](https://stackblitz.com/edit/angular-ivy-aeuedh)

## Parent component and Host component for component/directive with @Host Decorator in constructor
```html
    <div class="box">
      <p>AppComponent => {{ randomNo }}</p>
      <my-child>
        <my-grandChild></my-grandChild>
      </my-child>
    </div

```

## Parent directive and Host component for component/directive with @Host Decorator in constructor
```html
    <div class="box">
      <p>ChildComponent => {{ randomNo }}</p>
 
      <div aDir>
        <div bDir>
          <div cDir></div>
        </div>
      </div>
    </div>
```
1. Providers/viewProviders of self.
1. Providers of it's parent component/directive, in parent component's viewProviders not work, in parent sibling's viewProviders/providers not work
1. ViewProviders of Component, in providers not work
1. could lookfor host component by it's class name
## Example
```js
@Directive({
    selector: 'form',
    providers: [
        {
            provide: ControlContainer,
            useExisting: NgForm
        }
    ]
})
export class NgForm {}

@Directive({
    selector: '[ngModel]',
})
export class NgModel {
    constructor(@Optional() @Host() parent: ControlContainer) {}
    private _setUpControl(): void {
        ...
        this.parent.formDirective.addControl(this);
    }
}
```
> would find the ControlContainer from it's parent directive
## References

https://www.tektutorialshub.com/angular/host-decorator-in-angular/
https://indepth.dev/posts/1063/a-curious-case-of-the-host-decorator-and-element-injectors-in-angular